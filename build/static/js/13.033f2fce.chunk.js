(this.webpackJsonpcrema=this.webpackJsonpcrema||[]).push([[13],{957:function(e,t,n){"use strict";n.r(t);var c=n(25),a=n(52),i=n(181),r=(n(1),n(733)),s=n(732),u=n(731),o=n(304),l=n(436),d=n(438),b=n(2);t.default=function(){var e=Object(o.c)("files").mutateAsync,t=Object(o.c)("news").mutateAsync,n=function(){var n=Object(a.a)(Object(c.a)().mark((function n(a,i){var r,s,u,o;return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=l.b.loading({content:"Yangilanmoqda",duration:0}),(s=new FormData).append("file",a.imgUrl[0]),u="",n.next=6,e(s).then((function(e){u=null===e||void 0===e?void 0:e.fileUrl})).catch((function(){u=""}));case 6:return o={imgUrl:u,data:JSON.stringify(a.create[0].data),title:JSON.stringify(a.create[0].title),desc:JSON.stringify(a.create[0].desc)},n.next=9,t(o).then((function(e){l.b.success(e.message),i(),r()})).catch((function(){r()}));case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(i.a,{title:"News"}),Object(b.jsxs)(d.b,{size:"middle",direction:"vertical",children:[Object(b.jsx)(s.a,{type:"create",initialValue:Object(u.a)("news")[0],schema:Object(u.a)("news")[1],onSubmit:n,isLoading:!1}),Object(b.jsx)(r.a,{routeForData:"news",deleteKey:"news"})]})]})}}}]);