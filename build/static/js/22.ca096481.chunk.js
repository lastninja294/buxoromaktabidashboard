(this.webpackJsonpcrema=this.webpackJsonpcrema||[]).push([[22],{699:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return m}));var i=n(6),c=n(1),r=n(35),a=n(389),o=n(2);var s=function(e){var t=e.total,n=Object(r.g)(),s=Object(c.useState)(n.location.search.split("&").map((function(e){return+e.split("=")[1]}))[0]||1),l=Object(i.a)(s,2),u=l[0],d=l[1],j=Object(c.useState)(n.location.search.split("&").map((function(e){return+e.split("=")[1]}))[1]||10),b=Object(i.a)(j,2),f=b[0],h=b[1];return Object(c.useEffect)((function(){n.push("?page=".concat(u,"&size=").concat(f))}),[]),Object(o.jsx)(a.a,{current:u,pageSize:f,total:t,showSizeChanger:!0,onChange:function(e,t){n.push("?page=".concat(e,"&size=").concat(t)),f!==t?(d(1),h(t),n.push("?page=".concat(1,"&size=",t))):(d(e),h(t))}})},l=n(25),u=n(52),d=n(295),j=n(960),b=n(424),f=n(961),h=n(421),p=n(955),O=n(957),x=n(700),g=n(79),m=function(e){var t,n,a=e.routeForData,m=e.deleteKey,y=Object(r.g)(),v=Object(d.b)("".concat(a,"/").concat(y.location.search.split("?")[1]?y.location.search.split("?")[1]:"page=1&size=10")),z=v.data,k=v.isSuccess,w=v.refetch,S=Object(d.a)(m).mutateAsync,q=Object(c.useState)(!1),_=Object(i.a)(q,2),C=_[0],F=_[1],I=Object(c.useState)(!1),T=Object(i.a)(I,2),A=T[0],K=T[1],D=Object(c.useState)(""),E=Object(i.a)(D,2),H=E[0],J=E[1],M={};return k&&(M=Object.keys(null===z||void 0===z?void 0:z.data.data[0]).map((function(e){if(!(e.split("_").filter((function(e){return"id"===e})).length>0))return e.split("_").filter((function(e){return"img"===e})).length>0?{title:"Img",dataIndex:e,key:"img",ellipse:!0,width:50,align:"center",render:function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(x.a,{size:24,onClick:function(){F(!0),J(e)},style:{cursor:"pointer"}})})},forSort:1}:e.split("_").filter((function(e){return"status"===e})).length>0?{title:e.split("_").join(" "),dataIndex:e,key:e,forSort:0,width:150,render:function(e){return e?Object(o.jsx)(j.a,{color:"green",children:e.toString()}):Object(o.jsx)(j.a,{color:"red",children:e.toString()})}}:{title:e.split("_").join(" "),dataIndex:e,key:e,width:150,forSort:0,ellipsis:!0}})).filter((function(e){return e})).sort((function(e,t){return e.forSort-t.forSort})),"users"!==m?M.push({title:"Actions",key:"actions",width:120,fixed:"right",render:function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(b.b,{size:"middle",direction:"horizontal",align:"center",children:[Object(o.jsx)(g.c,{size:28,style:{padding:"4px",cursor:"pointer"}}),Object(o.jsx)(f.a,{title:"Haqiqatdan ham o'chirishni xohlaysizmi?",onConfirm:Object(u.a)(Object(l.a)().mark((function t(){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K(!0),S({id:e[Object.keys(e).find((function(e){return e.includes("_id")}))]}).then((function(){h.b.success("Muvaffaqiyatli o'chirildi"),K(!1),w()}));case 2:case"end":return t.stop()}}),t)}))),okText:"Xa",cancelText:"Yo'q",children:Object(o.jsx)(g.b,{size:28,style:{padding:"4px",cursor:"pointer"},color:"#e91e63"})})]})})}}):M.push({title:"Actions",key:"actions",width:30,fixed:"right",align:"center",render:function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(b.b,{size:"middle",direction:"horizontal",align:"center",children:Object(o.jsx)(f.a,{title:"Haqiqatdan ham o'chirishni xohlaysizmi?",onConfirm:Object(u.a)(Object(l.a)().mark((function t(){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K(!0),S({id:e[Object.keys(e).find((function(e){return e.includes("_id")}))]}).then((function(){h.b.success("Muvaffaqiyatli o'chirildi"),K(!1),w()}));case 2:case"end":return t.stop()}}),t)}))),okText:"Xa",cancelText:"Yo'q",children:Object(o.jsx)(g.b,{size:28,style:{padding:"4px",cursor:"pointer"},color:"#e91e63"})})})})}})),Object(o.jsxs)("div",{children:[k?Object(o.jsxs)(b.b,{size:"middle",direction:"vertical",children:[Object(o.jsx)(p.a,{bordered:!0,rowKey:function(e){return e[Object.keys(e)[0]]},columns:M,dataSource:null===z||void 0===z||null===(t=z.data)||void 0===t?void 0:t.data,loading:A,scroll:{y:400},ellipse:!0,pagination:!1}),Object(o.jsx)(s,{total:(null===z||void 0===z||null===(n=z.data)||void 0===n?void 0:n.size)||100})]}):"Loading",Object(o.jsx)(O.a,{width:200,style:{display:"none"},src:H,onError:function(){!C||h.b.error("Rasm aniqlanmadi!")},preview:{visible:C,onVisibleChange:function(e){!1===e&&J(""),F(e)}}})]})}},951:function(e,t,n){"use strict";n.r(t);var i=n(180),c=(n(1),n(699)),r=n(2);t.default=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(i.a,{title:"News"}),Object(r.jsx)("h2",{children:"Ro'yhatdan o'tgan foydalanuvchilar"}),Object(r.jsx)(c.a,{routeForData:"users",deleteKey:"users"})]})}}}]);
//# sourceMappingURL=22.ca096481.chunk.js.map