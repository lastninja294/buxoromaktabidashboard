(this.webpackJsonpcrema=this.webpackJsonpcrema||[]).push([[13],{957:function(e,t,n){"use strict";n.r(t);var c=n(25),a=n(52),r=n(181),i=(n(1),n(733)),s=n(732),u=n(731),o=n(304),l=n(436),b=n(438),j=n(2);t.default=function(){var e=Object(o.c)("files").mutateAsync,t=Object(o.c)("news").mutateAsync,n=function(){var n=Object(a.a)(Object(c.a)().mark((function n(a,r){var i,s,u;return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(i=new FormData).append("file",a.imgUrl[0]),s="",n.next=5,e(i).then((function(e){s=null===e||void 0===e?void 0:e.fileUrl})).catch((function(){s=""}));case 5:return u={imgUrl:s,data:JSON.stringify(a.create[0].data)},n.next=8,t(u).then((function(e){l.b.success(e.message),r()})).catch((function(){return l.b.error("Xatolik mavjud")}));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(r.a,{title:"News"}),Object(j.jsxs)(b.b,{size:"middle",direction:"vertical",children:[Object(j.jsx)(s.a,{type:"create",initialValue:Object(u.a)("news")[0],schema:Object(u.a)("news")[1],onSubmit:n,isLoading:!1}),Object(j.jsx)(i.a,{routeForData:"news",deleteKey:"news"})]})]})}}}]);
//# sourceMappingURL=13.eeeb30b7.chunk.js.map