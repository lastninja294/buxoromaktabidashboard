{"version":3,"sources":["pages/auth/AuthWrapper.js","pages/auth/ConfirmSignupAwsCognito.js"],"names":["AuthWrapper","children","type","animateStyle","flex","delay","interval","duration","className","ConfirmSignupAwsCognito","confirmCognitoUserSignup","useAuthMethod","history","useHistory","location","useLocation","messages","useIntl","useState","pin","setPin","title","id","value","fields","onChange","onClick","email","state","length","fetchError","push"],"mappings":"uHAAA,4DAqCeA,IA7BK,SAAH,GAAoB,IAAfC,EAAQ,EAARA,SACpB,OACE,eAAC,IAAe,CACdC,KAAK,QACLC,aAAc,CAACC,KAAM,GACrBC,MAAO,EACPC,SAAU,GACVC,SAAU,IAAI,UACd,qBAAKC,UAAU,YAAW,SACxB,eAAC,IAAI,CAACA,UAAU,YAAW,UACzB,sBAAKA,UAAU,oBAAmB,UAChC,qBAAKA,UAAU,mBAAkB,SAC/B,cAAC,IAAO,MAETP,KAEH,qBAAKO,UAAU,kBAAiB,SAC9B,sBAAKA,UAAU,mBAAkB,UAC/B,gDACA,iGAXwB,QAgBhC,cAAC,IAAW,MAGlB,C,mKCwBeC,UA/CiB,WAC9B,IAAOC,EAA4BC,cAA5BD,yBACDE,EAAUC,cACVC,EAAWC,cAEVC,EAAYC,cAAZD,SAYP,EAAsBE,mBAAS,IAAG,mBAA3BC,EAAG,KAAEC,EAAM,KAElB,OACE,eAAC,IAAW,WACV,cAAC,IAAe,CAACC,MAAM,mBAEvB,sBAAKb,UAAU,qBAAoB,UACjC,qBAAKA,UAAU,kBAAiB,SAC9B,4BACE,cAAC,IAAY,CAACc,GAAG,mCAIrB,qBAAKd,UAAU,qBAAoB,SACjC,cAAC,IAAc,CACbN,KAAK,WACLqB,MAAOJ,EACPK,OAAQ,EACRC,SAAU,SAACF,GAAK,OAAKH,EAAOG,EAAM,MAItC,cAAC,IAAM,CAACrB,KAAK,UAAUM,UAAU,cAAckB,QAjChC,WACnB,IAAOC,GAASb,EAASc,OAAS,CAAC,GAA5BD,MACHA,GAAwB,IAAfR,EAAIU,OACfnB,EAAyBiB,EAAOR,GACtBQ,EAIVG,YAAWd,EAAS,0BAHpBJ,EAAQmB,KAAK,WACbD,YAAWd,EAAS,wBAIxB,EAuB2E,SACnE,cAAC,IAAY,CAACM,GAAG,yBAK3B,C","file":"static/js/20.74e82696.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Card} from 'antd';\r\nimport AppAnimateGroup from '../../@crema/core/AppAnimateGroup';\r\nimport './AuthWrapper.style.less';\r\nimport {AppInfoView} from '../../@crema';\r\nimport AppLogo from '../../@crema/core/AppLayout/components/AppLogo';\r\n\r\nconst AuthWrapper = ({children}) => {\r\n  return (\r\n    <AppAnimateGroup\r\n      type='scale'\r\n      animateStyle={{flex: 1}}\r\n      delay={0}\r\n      interval={10}\r\n      duration={200}>\r\n      <div className='auth-wrap' key={'wrap'}>\r\n        <Card className='auth-card'>\r\n          <div className='auth-main-content'>\r\n            <div className='auth-card-header'>\r\n              <AppLogo />\r\n            </div>\r\n            {children}\r\n          </div>\r\n          <div className='auth-wel-action'>\r\n            <div className='auth-wel-content'>\r\n              <h2>Welcome to BM!</h2>\r\n              <p>Buxoro maktabi veb-sayti uchun maxsus boshqaruv paneli.</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n      <AppInfoView />\r\n    </AppAnimateGroup>\r\n  );\r\n};\r\n\r\nexport default AuthWrapper;\r\n\r\nAuthWrapper.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n","import React, {useState} from 'react';\r\nimport {Button} from 'antd';\r\nimport IntlMessages from '../../@crema/utility/IntlMessages';\r\nimport ReactCodeInput from 'react-code-input';\r\nimport './AuthWrapper.style.less';\r\nimport {useHistory, useLocation} from 'react-router-dom';\r\nimport {fetchError} from '../../redux/actions';\r\nimport {useIntl} from 'react-intl';\r\nimport AppPageMetadata from '../../@crema/core/AppPageMetadata';\r\nimport AuthWrapper from './AuthWrapper';\r\nimport {useAuthMethod} from '../../@crema/utility/AuthHooks';\r\n\r\nconst ConfirmSignupAwsCognito = () => {\r\n  const {confirmCognitoUserSignup} = useAuthMethod();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const {messages} = useIntl();\r\n  const handleSubmit = () => {\r\n    const {email} = location.state || {};\r\n    if (email && pin.length === 6) {\r\n      confirmCognitoUserSignup(email, pin);\r\n    } else if (!email) {\r\n      history.push('/signup');\r\n      fetchError(messages['validation.tryAgain']);\r\n    } else {\r\n      fetchError(messages['validation.pinLength']);\r\n    }\r\n  };\r\n  const [pin, setPin] = useState('');\r\n\r\n  return (\r\n    <AuthWrapper>\r\n      <AppPageMetadata title='Confirm Signup' />\r\n\r\n      <div className='auth-recon-content'>\r\n        <div className='confirm-content'>\r\n          <p>\r\n            <IntlMessages id='common.verificationMessage' />\r\n          </p>\r\n        </div>\r\n\r\n        <div className='confirm-code-input'>\r\n          <ReactCodeInput\r\n            type='password'\r\n            value={pin}\r\n            fields={6}\r\n            onChange={(value) => setPin(value)}\r\n          />\r\n        </div>\r\n\r\n        <Button type='primary' className='confirm-btn' onClick={handleSubmit}>\r\n          <IntlMessages id='common.submit' />\r\n        </Button>\r\n      </div>\r\n    </AuthWrapper>\r\n  );\r\n};\r\n\r\nexport default ConfirmSignupAwsCognito;\r\n"],"sourceRoot":""}