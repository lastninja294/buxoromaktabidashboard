(this.webpackJsonpcrema=this.webpackJsonpcrema||[]).push([[14],{699:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return v}));var r=a(6),n=a(1),c=a(35),i=a(389),o=a(2);var l=function(e){var t=e.total,a=Object(c.g)(),l=Object(n.useState)(a.location.search.split("&").map((function(e){return+e.split("=")[1]}))[0]||1),s=Object(r.a)(l,2),d=s[0],u=s[1],j=Object(n.useState)(a.location.search.split("&").map((function(e){return+e.split("=")[1]}))[1]||10),b=Object(r.a)(j,2),m=b[0],p=b[1];return Object(n.useEffect)((function(){a.push("?page=".concat(d,"&size=").concat(m))}),[]),Object(o.jsx)(i.a,{current:d,pageSize:m,total:t,showSizeChanger:!0,onChange:function(e,t){a.push("?page=".concat(e,"&size=").concat(t)),m!==t?(u(1),p(t),a.push("?page=".concat(1,"&size=",t))):(u(e),p(t))}})},s=a(25),d=a(52),u=a(295),j=a(960),b=a(424),m=a(961),p=a(421),h=a(955),f=a(957),O=a(700),x=a(79),v=function(e){var t,a,i=e.routeForData,v=e.deleteKey,y=Object(c.g)(),g=Object(u.b)("".concat(i,"/").concat(y.location.search.split("?")[1]?y.location.search.split("?")[1]:"page=1&size=10")),_=g.data,k=g.isSuccess,w=g.refetch,S=Object(u.a)(v).mutateAsync,z=Object(n.useState)(!1),V=Object(r.a)(z,2),M=V[0],q=V[1],C=Object(n.useState)(!1),N=Object(r.a)(C,2),F=N[0],U=N[1],A=Object(n.useState)(""),H=Object(r.a)(A,2),R=H[0],T=H[1],D={};return k&&(D=Object.keys(null===_||void 0===_?void 0:_.data.data[0]).map((function(e){if(!(e.split("_").filter((function(e){return"id"===e})).length>0))return e.split("_").filter((function(e){return"img"===e})).length>0?{title:"Img",dataIndex:e,key:"img",ellipse:!0,width:50,align:"center",render:function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(O.a,{size:24,onClick:function(){q(!0),T(e)},style:{cursor:"pointer"}})})},forSort:1}:e.split("_").filter((function(e){return"status"===e})).length>0?{title:e.split("_").join(" "),dataIndex:e,key:e,forSort:0,width:150,render:function(e){return e?Object(o.jsx)(j.a,{color:"green",children:e.toString()}):Object(o.jsx)(j.a,{color:"red",children:e.toString()})}}:{title:e.split("_").join(" "),dataIndex:e,key:e,width:150,forSort:0,ellipsis:!0}})).filter((function(e){return e})).sort((function(e,t){return e.forSort-t.forSort})),"users"!==v?D.push({title:"Actions",key:"actions",width:120,fixed:"right",render:function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(b.b,{size:"middle",direction:"horizontal",align:"center",children:[Object(o.jsx)(x.c,{size:28,style:{padding:"4px",cursor:"pointer"}}),Object(o.jsx)(m.a,{title:"Haqiqatdan ham o'chirishni xohlaysizmi?",onConfirm:Object(d.a)(Object(s.a)().mark((function t(){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:U(!0),S({id:e[Object.keys(e).find((function(e){return e.includes("_id")}))]}).then((function(){p.b.success("Muvaffaqiyatli o'chirildi"),U(!1),w()}));case 2:case"end":return t.stop()}}),t)}))),okText:"Xa",cancelText:"Yo'q",children:Object(o.jsx)(x.b,{size:28,style:{padding:"4px",cursor:"pointer"},color:"#e91e63"})})]})})}}):D.push({title:"Actions",key:"actions",width:30,fixed:"right",align:"center",render:function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(b.b,{size:"middle",direction:"horizontal",align:"center",children:Object(o.jsx)(m.a,{title:"Haqiqatdan ham o'chirishni xohlaysizmi?",onConfirm:Object(d.a)(Object(s.a)().mark((function t(){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:U(!0),S({id:e[Object.keys(e).find((function(e){return e.includes("_id")}))]}).then((function(){p.b.success("Muvaffaqiyatli o'chirildi"),U(!1),w()}));case 2:case"end":return t.stop()}}),t)}))),okText:"Xa",cancelText:"Yo'q",children:Object(o.jsx)(x.b,{size:28,style:{padding:"4px",cursor:"pointer"},color:"#e91e63"})})})})}})),Object(o.jsxs)("div",{children:[k?Object(o.jsxs)(b.b,{size:"middle",direction:"vertical",children:[Object(o.jsx)(h.a,{bordered:!0,rowKey:function(e){return e[Object.keys(e)[0]]},columns:D,dataSource:null===_||void 0===_||null===(t=_.data)||void 0===t?void 0:t.data,loading:F,scroll:{y:400},ellipse:!0,pagination:!1}),Object(o.jsx)(l,{total:(null===_||void 0===_||null===(a=_.data)||void 0===a?void 0:a.size)||100})]}):"Loading",Object(o.jsx)(f.a,{width:200,style:{display:"none"},src:R,onError:function(){!M||p.b.error("Rasm aniqlanmadi!")},preview:{visible:M,onVisibleChange:function(e){!1===e&&T(""),q(e)}}})]})}},702:function(e,t,a){"use strict";var r=a(25),n=a(4),c=a(52),i=a(6),o=a(10),l=a(1),s=a(724),d=a(719),u=a(694),j=(a(727),a(706),a(295)),b=a(2),m=["label","control","placeholder","error","name","defaultValue"],p=["ref"];t.a=function(e){var t=e.label,a=void 0===t?"description":t,h=e.control,f=e.placeholder,O=e.error,x=e.name,v=e.defaultValue,y=void 0===v?"":v,g=Object(o.a)(e,m),_=Object(l.useState)((function(){return y?d.EditorState.createWithContent(d.ContentState.createFromBlockArray(Object(d.convertFromHTML)(y))):d.EditorState.createEmpty()})),k=Object(i.a)(_,2),w=k[0],S=k[1],z=Object(j.c)("files").mutateAsync;function V(e){return M.apply(this,arguments)}function M(){return(M=Object(c.a)(Object(r.a)().mark((function e(t){var a,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),n="",e.next=5,z(a).then((function(e){n=null===e||void 0===e?void 0:e.fileUrl})).catch((function(){n=""}));case 5:return e.abrupt("return",new Promise((function(e,t){n.length>0?e({data:{link:n}}):t("Xatolik"),console.log("bu ishladi")})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.a,Object(n.a)({control:h,name:x,defaultValue:w,render:function(e){var t=e.field,r=(t.ref,Object(o.a)(t,p));return Object(b.jsx)("div",{className:"create-modal-form-box",children:Object(b.jsxs)("label",{style:{display:"flex",flexDirection:"column",margin:"10px 0 0 0"},children:[a,Object(b.jsx)(s.Editor,Object(n.a)(Object(n.a)({},r),{},{toolbarOnHidden:!0,editorState:w,onEditorStateChange:function(e){S(e)},placeholder:f,editorStyle:{maxHeight:"320px"},toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","image","history"],inline:{inDropdown:!1,options:["bold","italic","underline","strikethrough","superscript","subscript"]},blockType:{inDropdown:!0,options:["Normal","H1","H2","H3","H4","H5","H6","Blockquote"],className:void 0,component:void 0,dropdownClassName:void 0},image:{uploadCallback:V,alt:{present:!1,mandatory:!1},defaultSize:{height:"auto",width:"auto"},previewImage:!0}}}))]})})}},g)),O&&Object(b.jsx)("p",{style:{fontSize:"12px",color:"red"},children:null===O||void 0===O?void 0:O.message})]})}},706:function(e,t,a){},707:function(e,t,a){},708:function(e,t,a){},709:function(e,t,a){e.exports={"custom-modal":"customModal_custom-modal__15TAo","custom-modal__wrapper":"customModal_custom-modal__wrapper__30YPs","custom-modal__wrapper__header":"customModal_custom-modal__wrapper__header__NlQKR",title:"customModal_title__1AHPS",button:"customModal_button__1NBxo","custom-modal__wrapper__body":"customModal_custom-modal__wrapper__body__BH6Dq","custom-modal__wrapper__footer":"customModal_custom-modal__wrapper__footer__3ueS8"}},710:function(e,t,a){},711:function(e,t,a){},712:function(e,t,a){"use strict";var r=a(722);t.a=function(e){return"teachers"===e?[{name:"",surname:"",experince:"",subjects:"",about:{Uz:"",Ru:""},imgUrl:[]},r.c().shape({create:r.a().of(r.c().shape({name:r.d().required("*Maydon to'ldirilishi kerak"),surname:r.d().required("*Maydon to'ldirilishi kerak"),experince:r.d().required("*Maydon to'ldirilishi kerak"),subjects:r.d().required("*Maydon to'ldirilishi kerak"),about:r.c().shape({Uz:r.c(),Ru:r.c()}),photo:r.a().nullable()}))})]:"news"===e?[{imgUrl:[],data:{Uz:"",Ru:""}},r.c().shape({create:r.a().of(r.c().shape({imgUrl:r.a().nullable(),data:r.c().shape({Uz:r.c(),Ru:r.c()})}))})]:"courses"===e?[{name:"",price:"",desc:{Uz:"",Ru:""},imgUrl:[],teacherId:"select"},r.c().shape({create:r.a().of(r.c().shape({name:r.d().required("*Maydon to'ldirilishi kerak"),price:r.b().required("*Maydon sonlar bilan to'ldirilishi kerak"),desc:r.c().shape({Uz:r.c(),Ru:r.c()}),imgUrl:r.a().nullable(),teacherId:r.d().required("*Maydon to'ldirilishi kerak")}))})]:"admins"===e?[{adminName:"",password:""},r.c().shape({create:r.a().of(r.c().shape({adminName:r.d().required("*Maydon to'ldirilishi kerak"),password:r.d().required("*Maydon to'ldirilishi kerak")}))})]:"results"==e?[{fullname:"",year:"",university:"",points:"",status:""},r.c().shape({create:r.a().of(r.c().shape({fullname:r.d().required("*Maydon to'ldirilishi kerak"),year:r.b().required("*Maydon to'ldirilishi kerak"),university:r.d().required("Maydon to'ldirilishi shart"),status:r.d().required("Maydon to'ldirilishi shart"),points:r.b().required("*Maydon to'ldirilishi kerak")}))})]:void 0}},713:function(e,t,a){"use strict";var r=a(4),n=a(6),c=a(10),i=a(1),o=a(239),l=a(694),s=a(729),d=a(716),u=a(743),j=a(972),b=a(702),m=a(942),p=a(2),h=["control","placeholder","error","name","defaultValue","label"];var f=function(e){var t=e.control,a=e.placeholder,n=e.error,i=e.name,o=e.defaultValue,s=e.label,d=void 0===s?"title":s,u=Object(c.a)(e,h);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(l.a,Object(r.a)({control:t,name:i,defaultValue:o,render:function(e){var t=e.field;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("label",{style:{display:"flex",flexDirection:"column",margin:"10px 0"},children:[Object(p.jsx)("span",{children:d}),Object(p.jsx)(m.a,Object(r.a)(Object(r.a)({},t),{},{placeholder:a,defaultValue:o})),n&&Object(p.jsx)("p",{style:{fontSize:"12px",color:"red"},children:null===n||void 0===n?void 0:n.message})]})})}},u))})},O=a(728),x=a.n(O),v=["control","placeholder","error","name","defaultValue","label"];var y=function(e){var t=e.control,a=e.placeholder,n=e.error,i=e.name,o=e.defaultValue,s=e.label,d=Object(c.a)(e,v);return Object(p.jsx)(l.a,Object(r.a)({control:t,name:i,defaultValue:o,render:function(e){var t=e.field;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("label",{style:{display:"flex",flexDirection:"column",margin:"10px 0"},children:[Object(p.jsx)("span",{children:s}),Object(p.jsx)(x.a,Object(r.a)(Object(r.a)({},t),{},{mask:"+(\\9\\98) 99 999 9999",defaultValue:o,placeholder:a,children:function(e){return Object(p.jsx)(m.a,Object(r.a)({},e))}})),n&&Object(p.jsx)("p",{style:{fontSize:"12px",color:"red"},children:null===n||void 0===n?void 0:n.message})]})})}},d))},g=a(178),_=a(295),k=["control","placeholder","error","name","defaultValue","label"];var w=function(e){var t=e.control,a=e.placeholder,n=e.error,i=e.name,o=e.defaultValue,s=e.label,d=void 0===s?"category":s,u=Object(c.a)(e,k),j=Object(_.b)("teachers/all").data,b=g.a.Option;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(l.a,Object(r.a)({control:t,name:i,defaultValue:o,render:function(e){var t,c,i=e.field;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("label",{style:{display:"flex",flexDirection:"column",margin:"10px 0"},children:[Object(p.jsx)("span",{children:d}),Object(p.jsx)(g.a,Object(r.a)(Object(r.a)({},i),{},{placeholder:a,defaultValue:o,children:null===j||void 0===j||null===(t=j.data)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.map((function(e,t){return Object(p.jsx)(b,{value:e.teacher_id,children:e.teacher_name},t)}))})),n&&Object(p.jsx)("p",{style:{fontSize:"12px",color:"red"},children:null===n||void 0===n?void 0:n.message})]})})}},u))})},S=(a(707),["control","register","error","name","defaultValue"]);var z=function(e){var t=e.control,a=e.register,n=e.error,i=e.name,o=e.defaultValue,s=Object(c.a)(e,S);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(l.a,Object(r.a)({control:t,name:i,defaultValue:o,render:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("label",{htmlFor:"imageupload",children:"Select image"}),Object(p.jsx)("div",{className:"create-upload",children:Object(p.jsx)("input",Object(r.a)(Object(r.a)({},a("imgUrl")),{},{type:"file",name:"imgUrl",accept:"image/*",id:"imageupload"}))}),n&&Object(p.jsx)("p",{style:{fontSize:"12px",color:"red"},children:null===n||void 0===n?void 0:n.message})]})}},s))})},V=["type"];var M=function(e){var t=e.type,a=Object(c.a)(e,V);switch(t){case"input":return Object(p.jsx)(f,Object(r.a)({},a));case"editor":return Object(p.jsx)(b.a,Object(r.a)({},a));case"phone":return Object(p.jsx)(y,Object(r.a)({},a));case"upload":return Object(p.jsx)(z,Object(r.a)({},a));case"select":return Object(p.jsx)(w,Object(r.a)({},a))}};var q=function(e){var t=e.isMultiNameArr,a=e.languageTabs,r=e.register,c=e.error,o=e.control,l=e.index,s=e.initialValue,b=u.a.TabPane,m=Object(i.useState)(a[0]),h=Object(n.a)(m,2),f=h[0],O=h[1],x=function(e,t,a){if(!e)return null;var r,n=!1,c=Object(d.a)(t);try{for(c.s();!(r=c.n()).done;){var i=r.value;i.nameValue in e&&e[i.nameValue][a]&&(n=!0)}}catch(o){c.e(o)}finally{c.f()}return n};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(u.a,{defaultActiveKey:a[0],activeKey:f,onChange:function(e){O(e)},children:null===a||void 0===a?void 0:a.map((function(e){return Object(p.jsx)(b,{tab:Object(p.jsxs)("span",{children:["Uz"===e?"Uzbekcha":"Russian",Object(p.jsx)(j.a,{hidden:!c||!x(c,t,e),style:{color:"red",marginLeft:"10px"}})]})},e)}))}),null===a||void 0===a?void 0:a.map((function(e,a){return Object(p.jsx)("div",{style:f!==e?{display:"none"}:null,children:null===t||void 0===t?void 0:t.map((function(t,a){var n,i,d=t.nameValue,u=t.type;return Object(p.jsx)(M,{type:u,control:o,index:l,error:c&&(null===(n=c[d])||void 0===n?void 0:n[e]),name:"create[".concat(l,"].").concat(d,".").concat(e),register:r,defaultValue:null===(i=s[d])||void 0===i?void 0:i[e],placeholder:d,label:d},a)}))},a)}))]})},C=(a(708),function(e){var t=e.remove,a=e.register,r=e.error,c=e.control,i=e.index,o=e.initialValue,l=!1,s=function(){var e=[],t=[];for(var a in o)if("object"===typeof o[a]&&"Uz"in o[a]&&"Ru"in o[a]){l=!0;var r={type:"editor",nameValue:a};t.push(r)}else{var n={type:"phone"===a?"phone":0===a.indexOf("img")?"upload":"teacherId"===a?"select":"input",nameValue:a};e.push(n)}return[e,t]}(),d=Object(n.a)(s,2),u=d[0],j=d[1];return Object(p.jsxs)("div",{className:"create-modal-fields",children:[j?Object(p.jsx)(q,{isMultiNameArr:j,languageTabs:l?["Uz","Ru"]:["Uz"],remove:t,register:a,error:r,control:c,index:i,initialValue:o}):null,null===u||void 0===u?void 0:u.map((function(e,t){var n=e.type,l=e.nameValue;return Object(p.jsx)(M,{type:n,control:c,index:i,error:r&&r[l],name:"create[".concat(i,"].").concat(l),register:a,defaultValue:o[l],placeholder:l,label:l},t)}))]})}),N=a(700),F=a(709),U=a.n(F),A=["visible","width","title","onCancel","footer","children"];var H=function(e){var t=e.visible,a=e.width,n=e.title,i=e.onCancel,o=e.footer,l=e.children,s=Object(c.a)(e,A);return Object(p.jsx)(p.Fragment,{children:t?Object(p.jsx)("div",Object(r.a)(Object(r.a)({className:U.a["custom-modal"]},s),{},{children:Object(p.jsxs)("div",{className:U.a["custom-modal__wrapper"],style:{width:"".concat(a,"px")},children:[Object(p.jsxs)("div",{className:U.a["custom-modal__wrapper__header"],children:[Object(p.jsx)("h2",{className:U.a.title,children:n}),Object(p.jsx)("button",{onClick:i,className:U.a.button,children:Object(p.jsx)(N.b,{})})]}),Object(p.jsx)("div",{className:U.a["custom-modal__wrapper__body"],children:l}),Object(p.jsx)("div",{className:U.a["custom-modal__wrapper__footer"],children:o})]})})):null})};a(710);function R(e){var t=e.type,a=e.visible,r=e.onCancel,n=e.initialValue,c=e.schema,d=e.onSubmit,u=e.isLoading,j=Object(i.useRef)(),b=Object(l.f)({resolver:Object(s.a)(c)}),m=b.register,h=b.handleSubmit,f=b.control,O=b.reset,x=b.formState.errors,v=Object(l.e)({control:f,name:"create"}),y=v.fields,g=v.append,_=v.remove;return Object(i.useEffect)((function(){g(n)}),[]),Object(p.jsx)("div",{className:"generate-modal-form",children:Object(p.jsx)(H,{visible:a,title:"create"===t?"Create Modal":"Edit Modal",onCancel:r,width:1e3,footer:Object(p.jsx)("div",{className:"create-modal-form-footer",children:Object(p.jsxs)("div",{className:"create-modal-form-action-btn",children:[Object(p.jsx)(o.a,{onClick:function(){r()},children:"Cancel"},"back"),Object(p.jsx)(o.a,{type:"primary",loading:u,onClick:function(){var e;null===(e=j.current)||void 0===e||e.click()},children:"Submit"},"submit")]})}),children:Object(p.jsxs)("form",{onSubmit:h((function(e){d(e,O)})),className:"create-modal-form-scrollbar",children:[Object(p.jsx)("ul",{children:null===y||void 0===y?void 0:y.map((function(e,a){var r;return Object(p.jsx)("li",{className:"create-modal-form-box",children:Object(p.jsx)(C,{type:t,item:e,index:a,remove:_,control:f,error:null===(r=x.create)||void 0===r?void 0:r[a],register:m,initialValue:n})},e.id)}))}),Object(p.jsx)("input",{type:"submit",hidden:!0,ref:j})]})})})}var T=Object(i.memo)(R),D=a(79),E=(a(711),["type"]);t.a=function(e){var t=e.type,a=Object(c.a)(e,E),l=Object(i.useState)(!1),s=Object(n.a)(l,2),d=s[0],u=s[1];return Object(p.jsxs)(p.Fragment,{children:["create"===t?Object(p.jsx)(o.a,{type:"primary",style:{width:"140px",maxWidth:"50%"},onClick:function(){u(!0)},children:"Create"}):Object(p.jsx)(o.a,{type:"link",onClick:function(){u(!0)},children:Object(p.jsx)(D.c,{style:{fontSize:"1.3em"}})}),Object(p.jsx)(T,Object(r.a)({visible:d,type:t,onCancel:function(){u(!1)}},a))]})}},947:function(e,t,a){"use strict";a.r(t);var r=a(25),n=a(4),c=a(52),i=a(180),o=(a(1),a(699)),l=a(421),s=a(424),d=a(713),u=a(295),j=a(712),b=a(2);t.default=function(){var e=Object(u.c)("files").mutateAsync,t=Object(u.c)("teachers").mutateAsync,a=function(){var a=Object(c.a)(Object(r.a)().mark((function a(c){var i,o;return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(i=Object(n.a)({},c.create[0])).about=JSON.stringify(i.about),console.log(i),(o=new FormData).append("file",c.imgUrl[0]),a.next=7,e(o).then((function(e){i.imgUrl=null===e||void 0===e?void 0:e.fileUrl})).catch((function(){i.imgUrl="",l.b.error("Rasm yuklanmadi qayta urinib ko'ring!")}));case 7:return console.log("newwwww",i),a.next=10,t(i).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(i.a,{title:"Teachers"}),Object(b.jsxs)(s.b,{size:"middle",direction:"vertical",children:[Object(b.jsx)(d.a,{type:"create",initialValue:Object(j.a)("teachers")[0],schema:Object(j.a)("teachers")[1],onSubmit:a,isLoading:!1}),Object(b.jsx)(o.a,{routeForData:"teachers",deleteKey:"teachers"})]})]})}}}]);
//# sourceMappingURL=14.5e532a97.chunk.js.map