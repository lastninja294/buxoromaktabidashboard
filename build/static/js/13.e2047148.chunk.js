(this.webpackJsonpcrema=this.webpackJsonpcrema||[]).push([[13],{699:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return v}));var a=r(6),n=r(1),c=r(35),i=r(389),o=r(2);var l=function(e){var t=e.total,r=Object(c.g)(),l=Object(n.useState)(r.location.search.split("&").map((function(e){return+e.split("=")[1]}))[0]||1),s=Object(a.a)(l,2),d=s[0],u=s[1],j=Object(n.useState)(r.location.search.split("&").map((function(e){return+e.split("=")[1]}))[1]||10),b=Object(a.a)(j,2),m=b[0],p=b[1];return Object(n.useEffect)((function(){r.push("?page=".concat(d,"&size=").concat(m))}),[]),Object(o.jsx)(i.a,{current:d,pageSize:m,total:t,showSizeChanger:!0,onChange:function(e,t){r.push("?page=".concat(e,"&size=").concat(t)),m!==t?(u(1),p(t),r.push("?page=".concat(1,"&size=",t))):(u(e),p(t))}})},s=r(25),d=r(52),u=r(295),j=r(960),b=r(424),m=r(961),p=r(421),h=r(955),f=r(957),O=r(700),x=r(79),v=function(e){var t,r,i=e.routeForData,v=e.deleteKey,y=Object(c.g)(),g=Object(u.b)("".concat(i,"/").concat(y.location.search.split("?")[1]?y.location.search.split("?")[1]:"page=1&size=10")),_=g.data,k=g.isSuccess,w=g.refetch,S=Object(u.a)(v).mutateAsync,z=Object(n.useState)(!1),V=Object(a.a)(z,2),M=V[0],q=V[1],C=Object(n.useState)(!1),N=Object(a.a)(C,2),F=N[0],U=N[1],H=Object(n.useState)(""),R=Object(a.a)(H,2),A=R[0],T=R[1],D={};return k&&(D=Object.keys(null===_||void 0===_?void 0:_.data.data[0]).map((function(e){if(!(e.split("_").filter((function(e){return"id"===e})).length>0))return e.split("_").filter((function(e){return"img"===e})).length>0?{title:"Img",dataIndex:e,key:"img",ellipse:!0,width:50,align:"center",render:function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(O.a,{size:24,onClick:function(){q(!0),T(e)},style:{cursor:"pointer"}})})},forSort:1}:e.split("_").filter((function(e){return"status"===e})).length>0?{title:e.split("_").join(" "),dataIndex:e,key:e,forSort:0,width:150,render:function(e){return e?Object(o.jsx)(j.a,{color:"green",children:e.toString()}):Object(o.jsx)(j.a,{color:"red",children:e.toString()})}}:{title:e.split("_").join(" "),dataIndex:e,key:e,width:150,forSort:0,ellipsis:!0}})).filter((function(e){return e})).sort((function(e,t){return e.forSort-t.forSort})),"users"!==v?D.push({title:"Actions",key:"actions",width:120,fixed:"right",render:function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(b.b,{size:"middle",direction:"horizontal",align:"center",children:[Object(o.jsx)(x.c,{size:28,style:{padding:"4px",cursor:"pointer"}}),Object(o.jsx)(m.a,{title:"Haqiqatdan ham o'chirishni xohlaysizmi?",onConfirm:Object(d.a)(Object(s.a)().mark((function t(){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:U(!0),S({id:e[Object.keys(e).find((function(e){return e.includes("_id")}))]}).then((function(){p.b.success("Muvaffaqiyatli o'chirildi"),U(!1),w()}));case 2:case"end":return t.stop()}}),t)}))),okText:"Xa",cancelText:"Yo'q",children:Object(o.jsx)(x.b,{size:28,style:{padding:"4px",cursor:"pointer"},color:"#e91e63"})})]})})}}):D.push({title:"Actions",key:"actions",width:30,fixed:"right",align:"center",render:function(e){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(b.b,{size:"middle",direction:"horizontal",align:"center",children:Object(o.jsx)(m.a,{title:"Haqiqatdan ham o'chirishni xohlaysizmi?",onConfirm:Object(d.a)(Object(s.a)().mark((function t(){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:U(!0),S({id:e[Object.keys(e).find((function(e){return e.includes("_id")}))]}).then((function(){p.b.success("Muvaffaqiyatli o'chirildi"),U(!1),w()}));case 2:case"end":return t.stop()}}),t)}))),okText:"Xa",cancelText:"Yo'q",children:Object(o.jsx)(x.b,{size:28,style:{padding:"4px",cursor:"pointer"},color:"#e91e63"})})})})}})),Object(o.jsxs)("div",{children:[k?Object(o.jsxs)(b.b,{size:"middle",direction:"vertical",children:[Object(o.jsx)(h.a,{bordered:!0,rowKey:function(e){return e[Object.keys(e)[0]]},columns:D,dataSource:null===_||void 0===_||null===(t=_.data)||void 0===t?void 0:t.data,loading:F,scroll:{y:400},ellipse:!0,pagination:!1}),Object(o.jsx)(l,{total:(null===_||void 0===_||null===(r=_.data)||void 0===r?void 0:r.size)||100})]}):"Loading",Object(o.jsx)(f.a,{width:200,style:{display:"none"},src:A,onError:function(){!M||p.b.error("Rasm aniqlanmadi!")},preview:{visible:M,onVisibleChange:function(e){!1===e&&T(""),q(e)}}})]})}},702:function(e,t,r){"use strict";var a=r(25),n=r(4),c=r(52),i=r(6),o=r(10),l=r(1),s=r(724),d=r(719),u=r(694),j=(r(727),r(706),r(295)),b=r(2),m=["label","control","placeholder","error","name","defaultValue"],p=["ref"];t.a=function(e){var t=e.label,r=void 0===t?"description":t,h=e.control,f=e.placeholder,O=e.error,x=e.name,v=e.defaultValue,y=void 0===v?"":v,g=Object(o.a)(e,m),_=Object(l.useState)((function(){return y?d.EditorState.createWithContent(d.ContentState.createFromBlockArray(Object(d.convertFromHTML)(y))):d.EditorState.createEmpty()})),k=Object(i.a)(_,2),w=k[0],S=k[1],z=Object(j.c)("files").mutateAsync;function V(e){return M.apply(this,arguments)}function M(){return(M=Object(c.a)(Object(a.a)().mark((function e(t){var r,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",t),n="",e.next=5,z(r).then((function(e){n=null===e||void 0===e?void 0:e.fileUrl})).catch((function(){n=""}));case 5:return e.abrupt("return",new Promise((function(e,t){n.length>0?e({data:{link:n}}):t("Xatolik"),console.log("bu ishladi")})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.a,Object(n.a)({control:h,name:x,defaultValue:w,render:function(e){var t=e.field,a=(t.ref,Object(o.a)(t,p));return Object(b.jsx)("div",{className:"create-modal-form-box",children:Object(b.jsxs)("label",{style:{display:"flex",flexDirection:"column",margin:"10px 0 0 0"},children:[r,Object(b.jsx)(s.Editor,Object(n.a)(Object(n.a)({},a),{},{toolbarOnHidden:!0,editorState:w,onEditorStateChange:function(e){S(e)},placeholder:f,editorStyle:{maxHeight:"320px"},toolbar:{options:["inline","blockType","fontSize","fontFamily","list","textAlign","image","history"],inline:{inDropdown:!1,options:["bold","italic","underline","strikethrough","superscript","subscript"]},blockType:{inDropdown:!0,options:["Normal","H1","H2","H3","H4","H5","H6","Blockquote"],className:void 0,component:void 0,dropdownClassName:void 0},image:{uploadCallback:V,alt:{present:!1,mandatory:!1},defaultSize:{height:"auto",width:"auto"},previewImage:!0}}}))]})})}},g)),O&&Object(b.jsx)("p",{style:{fontSize:"12px",color:"red"},children:null===O||void 0===O?void 0:O.message})]})}},706:function(e,t,r){},707:function(e,t,r){},708:function(e,t,r){},709:function(e,t,r){e.exports={"custom-modal":"customModal_custom-modal__15TAo","custom-modal__wrapper":"customModal_custom-modal__wrapper__30YPs","custom-modal__wrapper__header":"customModal_custom-modal__wrapper__header__NlQKR",title:"customModal_title__1AHPS",button:"customModal_button__1NBxo","custom-modal__wrapper__body":"customModal_custom-modal__wrapper__body__BH6Dq","custom-modal__wrapper__footer":"customModal_custom-modal__wrapper__footer__3ueS8"}},710:function(e,t,r){},711:function(e,t,r){},712:function(e,t,r){"use strict";var a=r(722);t.a=function(e){return"teachers"===e?[{name:"",surname:"",experince:"",subjects:"",about:{Uz:"",Ru:""},imgUrl:[]},a.c().shape({create:a.a().of(a.c().shape({name:a.d().required("*Maydon to'ldirilishi kerak"),surname:a.d().required("*Maydon to'ldirilishi kerak"),experince:a.d().required("*Maydon to'ldirilishi kerak"),subjects:a.d().required("*Maydon to'ldirilishi kerak"),about:a.c().shape({Uz:a.c(),Ru:a.c()}),photo:a.a().nullable()}))})]:"news"===e?[{imgUrl:[],data:{Uz:"",Ru:""}},a.c().shape({create:a.a().of(a.c().shape({imgUrl:a.a().nullable(),data:a.c().shape({Uz:a.c(),Ru:a.c()})}))})]:"courses"===e?[{name:"",price:"",desc:{Uz:"",Ru:""},imgUrl:[],teacherId:"select"},a.c().shape({create:a.a().of(a.c().shape({name:a.d().required("*Maydon to'ldirilishi kerak"),price:a.b().required("*Maydon sonlar bilan to'ldirilishi kerak"),desc:a.c().shape({Uz:a.c(),Ru:a.c()}),imgUrl:a.a().nullable(),teacherId:a.d().required("*Maydon to'ldirilishi kerak")}))})]:"admins"===e?[{adminName:"",password:""},a.c().shape({create:a.a().of(a.c().shape({adminName:a.d().required("*Maydon to'ldirilishi kerak"),password:a.d().required("*Maydon to'ldirilishi kerak")}))})]:"results"==e?[{fullname:"",year:"",university:"",points:"",status:""},a.c().shape({create:a.a().of(a.c().shape({fullname:a.d().required("*Maydon to'ldirilishi kerak"),year:a.b().required("*Maydon to'ldirilishi kerak"),university:a.d().required("Maydon to'ldirilishi shart"),status:a.d().required("Maydon to'ldirilishi shart"),points:a.b().required("*Maydon to'ldirilishi kerak")}))})]:void 0}},713:function(e,t,r){"use strict";var a=r(4),n=r(6),c=r(10),i=r(1),o=r(239),l=r(694),s=r(729),d=r(716),u=r(743),j=r(972),b=r(702),m=r(942),p=r(2),h=["control","placeholder","error","name","defaultValue","label"];var f=function(e){var t=e.control,r=e.placeholder,n=e.error,i=e.name,o=e.defaultValue,s=e.label,d=void 0===s?"title":s,u=Object(c.a)(e,h);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(l.a,Object(a.a)({control:t,name:i,defaultValue:o,render:function(e){var t=e.field;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("label",{style:{display:"flex",flexDirection:"column",margin:"10px 0"},children:[Object(p.jsx)("span",{children:d}),Object(p.jsx)(m.a,Object(a.a)(Object(a.a)({},t),{},{placeholder:r,defaultValue:o})),n&&Object(p.jsx)("p",{style:{fontSize:"12px",color:"red"},children:null===n||void 0===n?void 0:n.message})]})})}},u))})},O=r(728),x=r.n(O),v=["control","placeholder","error","name","defaultValue","label"];var y=function(e){var t=e.control,r=e.placeholder,n=e.error,i=e.name,o=e.defaultValue,s=e.label,d=Object(c.a)(e,v);return Object(p.jsx)(l.a,Object(a.a)({control:t,name:i,defaultValue:o,render:function(e){var t=e.field;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("label",{style:{display:"flex",flexDirection:"column",margin:"10px 0"},children:[Object(p.jsx)("span",{children:s}),Object(p.jsx)(x.a,Object(a.a)(Object(a.a)({},t),{},{mask:"+(\\9\\98) 99 999 9999",defaultValue:o,placeholder:r,children:function(e){return Object(p.jsx)(m.a,Object(a.a)({},e))}})),n&&Object(p.jsx)("p",{style:{fontSize:"12px",color:"red"},children:null===n||void 0===n?void 0:n.message})]})})}},d))},g=r(178),_=r(295),k=["control","placeholder","error","name","defaultValue","label"];var w=function(e){var t=e.control,r=e.placeholder,n=e.error,i=e.name,o=e.defaultValue,s=e.label,d=void 0===s?"category":s,u=Object(c.a)(e,k),j=Object(_.b)("teachers/all").data,b=g.a.Option;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(l.a,Object(a.a)({control:t,name:i,defaultValue:o,render:function(e){var t,c,i=e.field;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("label",{style:{display:"flex",flexDirection:"column",margin:"10px 0"},children:[Object(p.jsx)("span",{children:d}),Object(p.jsx)(g.a,Object(a.a)(Object(a.a)({},i),{},{placeholder:r,defaultValue:o,children:null===j||void 0===j||null===(t=j.data)||void 0===t||null===(c=t.data)||void 0===c?void 0:c.map((function(e,t){return Object(p.jsx)(b,{value:e.teacher_id,children:e.teacher_name},t)}))})),n&&Object(p.jsx)("p",{style:{fontSize:"12px",color:"red"},children:null===n||void 0===n?void 0:n.message})]})})}},u))})},S=(r(707),["control","register","error","name","defaultValue"]);var z=function(e){var t=e.control,r=e.register,n=e.error,i=e.name,o=e.defaultValue,s=Object(c.a)(e,S);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(l.a,Object(a.a)({control:t,name:i,defaultValue:o,render:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("label",{htmlFor:"imageupload",children:"Select image"}),Object(p.jsx)("div",{className:"create-upload",children:Object(p.jsx)("input",Object(a.a)(Object(a.a)({},r("imgUrl")),{},{type:"file",name:"imgUrl",accept:"image/*",id:"imageupload"}))}),n&&Object(p.jsx)("p",{style:{fontSize:"12px",color:"red"},children:null===n||void 0===n?void 0:n.message})]})}},s))})},V=["type"];var M=function(e){var t=e.type,r=Object(c.a)(e,V);switch(t){case"input":return Object(p.jsx)(f,Object(a.a)({},r));case"editor":return Object(p.jsx)(b.a,Object(a.a)({},r));case"phone":return Object(p.jsx)(y,Object(a.a)({},r));case"upload":return Object(p.jsx)(z,Object(a.a)({},r));case"select":return Object(p.jsx)(w,Object(a.a)({},r))}};var q=function(e){var t=e.isMultiNameArr,r=e.languageTabs,a=e.register,c=e.error,o=e.control,l=e.index,s=e.initialValue,b=u.a.TabPane,m=Object(i.useState)(r[0]),h=Object(n.a)(m,2),f=h[0],O=h[1],x=function(e,t,r){if(!e)return null;var a,n=!1,c=Object(d.a)(t);try{for(c.s();!(a=c.n()).done;){var i=a.value;i.nameValue in e&&e[i.nameValue][r]&&(n=!0)}}catch(o){c.e(o)}finally{c.f()}return n};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(u.a,{defaultActiveKey:r[0],activeKey:f,onChange:function(e){O(e)},children:null===r||void 0===r?void 0:r.map((function(e){return Object(p.jsx)(b,{tab:Object(p.jsxs)("span",{children:["Uz"===e?"Uzbekcha":"Russian",Object(p.jsx)(j.a,{hidden:!c||!x(c,t,e),style:{color:"red",marginLeft:"10px"}})]})},e)}))}),null===r||void 0===r?void 0:r.map((function(e,r){return Object(p.jsx)("div",{style:f!==e?{display:"none"}:null,children:null===t||void 0===t?void 0:t.map((function(t,r){var n,i,d=t.nameValue,u=t.type;return Object(p.jsx)(M,{type:u,control:o,index:l,error:c&&(null===(n=c[d])||void 0===n?void 0:n[e]),name:"create[".concat(l,"].").concat(d,".").concat(e),register:a,defaultValue:null===(i=s[d])||void 0===i?void 0:i[e],placeholder:d,label:d},r)}))},r)}))]})},C=(r(708),function(e){var t=e.remove,r=e.register,a=e.error,c=e.control,i=e.index,o=e.initialValue,l=!1,s=function(){var e=[],t=[];for(var r in o)if("object"===typeof o[r]&&"Uz"in o[r]&&"Ru"in o[r]){l=!0;var a={type:"editor",nameValue:r};t.push(a)}else{var n={type:"phone"===r?"phone":0===r.indexOf("img")?"upload":"teacherId"===r?"select":"input",nameValue:r};e.push(n)}return[e,t]}(),d=Object(n.a)(s,2),u=d[0],j=d[1];return Object(p.jsxs)("div",{className:"create-modal-fields",children:[j?Object(p.jsx)(q,{isMultiNameArr:j,languageTabs:l?["Uz","Ru"]:["Uz"],remove:t,register:r,error:a,control:c,index:i,initialValue:o}):null,null===u||void 0===u?void 0:u.map((function(e,t){var n=e.type,l=e.nameValue;return Object(p.jsx)(M,{type:n,control:c,index:i,error:a&&a[l],name:"create[".concat(i,"].").concat(l),register:r,defaultValue:o[l],placeholder:l,label:l},t)}))]})}),N=r(700),F=r(709),U=r.n(F),H=["visible","width","title","onCancel","footer","children"];var R=function(e){var t=e.visible,r=e.width,n=e.title,i=e.onCancel,o=e.footer,l=e.children,s=Object(c.a)(e,H);return Object(p.jsx)(p.Fragment,{children:t?Object(p.jsx)("div",Object(a.a)(Object(a.a)({className:U.a["custom-modal"]},s),{},{children:Object(p.jsxs)("div",{className:U.a["custom-modal__wrapper"],style:{width:"".concat(r,"px")},children:[Object(p.jsxs)("div",{className:U.a["custom-modal__wrapper__header"],children:[Object(p.jsx)("h2",{className:U.a.title,children:n}),Object(p.jsx)("button",{onClick:i,className:U.a.button,children:Object(p.jsx)(N.b,{})})]}),Object(p.jsx)("div",{className:U.a["custom-modal__wrapper__body"],children:l}),Object(p.jsx)("div",{className:U.a["custom-modal__wrapper__footer"],children:o})]})})):null})};r(710);function A(e){var t=e.type,r=e.visible,a=e.onCancel,n=e.initialValue,c=e.schema,d=e.onSubmit,u=e.isLoading,j=Object(i.useRef)(),b=Object(l.f)({resolver:Object(s.a)(c)}),m=b.register,h=b.handleSubmit,f=b.control,O=b.reset,x=b.formState.errors,v=Object(l.e)({control:f,name:"create"}),y=v.fields,g=v.append,_=v.remove;return Object(i.useEffect)((function(){g(n)}),[]),Object(p.jsx)("div",{className:"generate-modal-form",children:Object(p.jsx)(R,{visible:r,title:"create"===t?"Create Modal":"Edit Modal",onCancel:a,width:1e3,footer:Object(p.jsx)("div",{className:"create-modal-form-footer",children:Object(p.jsxs)("div",{className:"create-modal-form-action-btn",children:[Object(p.jsx)(o.a,{onClick:function(){a()},children:"Cancel"},"back"),Object(p.jsx)(o.a,{type:"primary",loading:u,onClick:function(){var e;null===(e=j.current)||void 0===e||e.click()},children:"Submit"},"submit")]})}),children:Object(p.jsxs)("form",{onSubmit:h((function(e){d(e,O)})),className:"create-modal-form-scrollbar",children:[Object(p.jsx)("ul",{children:null===y||void 0===y?void 0:y.map((function(e,r){var a;return Object(p.jsx)("li",{className:"create-modal-form-box",children:Object(p.jsx)(C,{type:t,item:e,index:r,remove:_,control:f,error:null===(a=x.create)||void 0===a?void 0:a[r],register:m,initialValue:n})},e.id)}))}),Object(p.jsx)("input",{type:"submit",hidden:!0,ref:j})]})})})}var T=Object(i.memo)(A),D=r(79),E=(r(711),["type"]);t.a=function(e){var t=e.type,r=Object(c.a)(e,E),l=Object(i.useState)(!1),s=Object(n.a)(l,2),d=s[0],u=s[1];return Object(p.jsxs)(p.Fragment,{children:["create"===t?Object(p.jsx)(o.a,{type:"primary",style:{width:"140px",maxWidth:"50%"},onClick:function(){u(!0)},children:"Create"}):Object(p.jsx)(o.a,{type:"link",onClick:function(){u(!0)},children:Object(p.jsx)(D.c,{style:{fontSize:"1.3em"}})}),Object(p.jsx)(T,Object(a.a)({visible:d,type:t,onCancel:function(){u(!1)}},r))]})}},949:function(e,t,r){"use strict";r.r(t);var a=r(25),n=r(52),c=r(180),i=(r(1),r(699)),o=r(421),l=r(424),s=r(713),d=r(712),u=r(295),j=r(2);t.default=function(){var e=Object(u.c)("results").mutateAsync,t=function(){var t=Object(n.a)(Object(a.a)().mark((function t(r,n){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(r.create[0]).then((function(e){o.b.success(e.message),n()})).catch((function(e){return o.b.error(e.message)}));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(c.a,{title:"Results"}),Object(j.jsxs)(l.b,{size:"middle",direction:"vertical",children:[Object(j.jsx)(s.a,{type:"create",initialValue:Object(d.a)("results")[0],schema:Object(d.a)("results")[1],onSubmit:t,isLoading:!1}),Object(j.jsx)(i.a,{routeForData:"results",deleteKey:"results"})]})]})}}}]);
//# sourceMappingURL=13.e2047148.chunk.js.map